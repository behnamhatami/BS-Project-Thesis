\فصل {پیاده‌سازی} 

\قسمت {مقدمه} 
در این فصل روند طی شدن پروژه توضیح داده می‌شود.
\\
در این پروژه، در ابتدا به بررسی‌های جامع در مورد وضع سایت‌های فعال کسب‌وکار در ایران، پرداختیم. البته بررسی‌ها به نمونه‌های داخلی محدود نگردید و بررسی‌هایی در مورد نمونه‌های خارجی موفق نیز انجام شد. با بررسی دقیق‌تر، سایت‌های هدف برای استخراج اطلاعات انتخاب شد. همچنین برای امکان ایجاد مشابه فارسی \لر{Linkedin} و امکان استخراج اطلاعات طبقه‌بندی شده از \لر{Linkedin} به بررسی شمای پایگاهی این سایت، پرداخته شد و تا حد خوبی، ساختار داده‌ای این سایت پرطرفدار خارجی را به دست آمد. سپس به مرحله‌ی پیاده‌سازی خزنده پرداختیم. در این مرحله، برای اجرای کار، نیاز به نوشته شدن استخراج‌گر اختصاصی برای هر دامنه احساس می‌گردید. این استخراج‌گر، از هر صفحه‌ی آگهی داده‌های مفید آن را استخراج می‌نماید. این امر، باعث بهبود دقت جستجو در مراحل بعدی می‌گردد، زیرا داده‌های غیر مرتبط به آن آگهی را عملاً حذف می‌نماید. سپس با نوشتن افزونه برای تبدیل این داده‌های استخراج شده، به ساختاری سازگار با \لر{Lucene}، امکان شاخص‌بندی داده‌ها فراهم گردید. سپس با بررسی میزان تأثیر گذاری این کار بر روی دقت نتایج جستجو پرداخته شد.

\قسمت {پیش‌نیازها}
برای سازگارسازی \لر{Nutch}، با سایت‌های فعال در زمینه‌ی استخدام، نیاز به پیاده‌سازی افزونه‌ی خاص هر سایت، مبرم و اساسی بود. علاوه بر این، نیاز است مکانیزمی تعبیه گردد که با توجه به سایت، افزونه‌ی خاص خود را پیدا کند و آن را اجرا نماید. برای چنین کاری، از الگوی کارخانه\زیرنوشت {Factory method} استفاده گردید. ساختار این الگو در شکل ~\ref{fig:factory_method} آمده است. این الگو با توجه به نوع سایت، که از روی آدرس سایت مشخص می‌شود، در بین افزونه‌هایی که خود را در سیستم ثبت نام کرده‌اند، جستجو می‌کند و در صورت پیدا کردن مورد متناسب با آدرس سایت، آن را اجرا می‌کند. چنین ساختاری، اضافه کردن یک افزونه‌ی جدید برای یک سایت جدید را بسیار راحت می‌کند و از اضافه شدن تغییرات منتشر شونده، اجتناب می‌نماید. پس از این مرحله، باید داده‌های استخراج شده را برای شاخص‌بندی به \لر{Lucene} آماده نمود. این کار توسط افزونه‌ی شاخص‌بندی انجام می‌پذیرد.

\شکل‌پی‌ان‌جی{10}{مثالی از الگوی کارخانه
~\cite{Factory-method}}{factory_method}

\قسمت {مراحل پیاده‌سازی}
\زیرقسمت {بررسی و انتخاب سایت‌های هدف}
در این مرحله، با بررسی و جستجو در بین سایت‌های فارسی زبان که در زمینه‌ی استخدام و آگهی‌های مربوط به آن، فعالیت دارند، به دست آمد. به طور خاص، در مورد هر کدام، ویژگی‌های بارز استخراج شد. همچنین در این مرحله، به بررسی چند سایت خارجی که پیشروی در این زمینه، پرداخته شد. لیست سایت‌های بررسی شده در جدول  ~\ref{employSite-list}  آمده است.

\شروع {لوح}
\وسط‌چین
\شرح {لیست سایت‌های فعال کاریابی به زبان فارسی}
\برچسب {employSite-list}
\شروع {جدول}{c|p{3.5cm}|c|p{2.5cm}}
آدرس سایت & نوع تعامل با کاربر & به‌روزرسانی & نوع جستجو \\ \خط‌پر

estekhtam.com & ارسال توضیح\زیرنوشت {Comment} & هر روز & متن ساده \\
karyab.net & عضویت و ثبت کارنامک & هر روز & کارنامک، آگهی، نظرات  \\
banki.ir & عضویت و ثبت رزومه & هر 2 روز & کارجویان، شغل، تخصص و مکان\\
e-estekhdam.com & عضویت و ثبت رزومه & هر روز & مکان  \\
bazarekar.ir & عضویت و ارسال کارنامک & - & مقطع تحصیلی، رشته، جنسیت، استان و شغل \\
estekhdamnews.com & عضویت و ارسال رزومه & هر روز & متن ساده\\
unp.ir/jobs.php & خبرنامه با ایمیل & هر روز & متن ساده\\
estekhdamcenter.ir & عضویت کارجویان و  کارفرمایان، ثبت کارنامک و آگهی شغل & هر روز & متن ساده\\
estekhdami.org & دریافت آگهی و ارسال توضیح & هر روز & متن ساده \\


\پایان {جدول}
\پایان {لوح}

\زیرقسمت {بررسی سایت LinkedIn}
پس از بررسی سایت‌های فارسی، نوبت به بررسی سایت‌های موفق در زمینه‌ی کاریابی در زبان انگلیسی رسید. یکی از بزرگ‌ترین شبکه‌های کاریابی، شبکه‌ی اجتماعی \لر{Linkedin} می‌باشد. این شبکه در حال حاضر دارای ۲۰۰ میلیون کاربر فعال دارد. راه اندازی سایتی مشابه \لر{Linkedin} به زبان فارسی و حتی استخراج کارنامک افراد از این سایت یکی از اهداف پروژه برای پیشنهاد کار می‌باشد. به همین منظور استخراج مدل داده‌ای این سایت به عنوان اولین قدم در زمینه‌ی به دست آوردن اطلاعات طبقه‌بندی شده از این سایت می‌باشد. در شکل ~\ref{fig:LinkedIn} شمای پایگاهی استخراج شده از این دامنه نشان شده است.

\شکل‌پی‌ان‌جی{9}{شمای داده‌ای سایت \لر{Linkedin}}{LinkedIn}

\زیرقسمت {آماده‌سازی Nutch}
در این مرحله، باید ابتدا سایت \لر{Nutch} را برای اجرا آماده‌سازی نمود. برای این کار، در این پروژه از نسخه‌ی ۲.۲ این نرم‌افزار استفاده نمودیم. این نسخه نسبت به نسخه‌های گذشته تغییرات بنیادی داشته است. به طور مثال می‌توان به ساختار ارتباط با پایگاه آن اشاره نمود. از این نسخه به بعد، با استفاده از تکنولوژی \لر{gora} این امکان را ایجاد کرده است که \لر{Nutch} مستقل از نوع پایگاه‌داده  کار کند. به همین منظور در این پروژه از پایگاه‌داده‌ی \لر{mysql}\زیرنوشت {www.mysql.com} استفاده گردید. برای راه‌اندازی اولین کارهایی که انجام شد تنظیم نوع پایگاه‌داده‌ی آن و ستون‌های جدول پایگاهی مربوطه بود.
\\
پس از این مرحله، باید نرم‌افزار تنظیم می‌گردید. در زیر تنظیمات کلی نرم‌افزار آمده است. در اینجا اسم عامل خزنده و لیست مجاز آن‌ها را مشخص شده است. همچنین استفاده از \لر{sql} نیز در اینجا مشخص شده است. تنظیمات آخر نیز تنظیمات رمزنگاری ارتباط شبکه‌ای را مشخص می‌کند.

\صفحه‌شکن

\begin{latin} 
\begin{lstlisting}[style=listXML]
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<configuration>
	<property>
		<name>http.agent.name</name>
		<value>EmploySpider</value>
	</property>
	<property>
		<name>http.robots.agents</name>
		<value>EmploySpider,*</value>
	</property>
	<property>
		<name>storage.data.store.class</name>
		<value>org.apache.gora.sql.store.SqlStore</value>
	</property>
	<property>
		<name>parser.character.encoding.default</name>
		<value>utf-8</value>
	</property>
</configuration>
\end{lstlisting}
\end{latin}
\زیرقسمت {پیاده‌سازی افزونه‌های تجزیه‌کننده}
در این قسمت، نیاز به پیاده‌سازی یک افزونه داشتیم که در آن با توجه به نوع صفحه، پردازشگر مخصوص به آن را اجرا نماید و قسمت‌های مفید صفحه را استخراج نماید. به طور کلی ساختار هر افزونه برای شناخته شدن در \لر{Nutch} باید مطابق زیر باشد.
\begin{latin}
\begin{verbatim}
myPlugin/
  plugin.xml
  build.xml
  ivy.xml
  src/
    java/
      org/
        employ/
          nutch/
            parser/
              ...
\end{verbatim}
\end{latin}

در این ساختار، سه فایل \لر{plugin.xml} نوع افزونه، نقاط گسترشی که پیاده‌سازی می‌نماید و کلاس‌های قابل اجرا برای هر کدام را مشخص می‌کند. فایل \لر{build.xml} برای قابل اجرا کردن افزونه برای \لر{Nutch} استفاده می‌گردد و فایل /لر{ivy.xml} برای مشخص کردن پیش‌نیازهای این افزونه به کار می‌رود. 
\\
در شکل ~\ref {fig:parse.html} ساختار نمودار رده‌ی افزونه‌ی تولید شده نشان داده شده است. همان طور که می‌بینید برای پشتیبانی از چند دامنه، از الگوی کارخانه استفاده شده است.

\شکل‌پی‌ان‌جی {12} {ساختار افزونه‌ی تجزیه کننده} {parse.html}

\زیرقسمت {پیاده‌سازی افزونه‌ی شاخص‌بندی}
در این قسمت، ساختاری کاملاً مشابه افزونه قبلی ساخته می‌گردد، با این تفاوت که نقاط گسترش متفاوتی را پیاده‌سازی می‌کند و در مرحله‌ی متفاوتی اجرا خواهد شد. ساختار و جزئیات این افزونه در شکل ~\ref {fig:indexer.usertags} آمده است.

\شکل‌پی‌ان‌جی {9} {ساختار افزونه‌ی شاخص‌بند} {indexer.usertags}

\قسمت {خلاصه}
در این فصل در ابتدا به بررسی روند کارهای انجام شده پرداخته شد. سپس هر کدام از روندها به طور مفصل مورد بررسی قرار گرفت. از جمله روندهای بررسی شده, می‌توان به بررسی جامع سایت‌های فارسی اشاره نمود. همچنین ساختار افزونه‌های \لر{Nutch} نیز مورد بررسی قرار گرفت. در فصل آتی به بررسی ویژگی‌های کدهای پیاده‌سازی شده پرداخته خواهد شد.
