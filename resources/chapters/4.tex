\فصل{موتور جستجوی Nutch}

\قسمت{مقدمه}
پروژه‌ی Nutch یک نرم افزار متن باز بر اساس زبان جاوا است، که امکان خزش و جمع آوری طیف مختلفی از داده‌ها را، از یک شبکه داخلی، بخشی از اینترنت یا کل جهان گسترده وب را دارد. به طور کلی قبل از پیاده سازی Nutch امکان تحلیل نتایج موتورهای جستجوی معروف، در برابر پرسمانی دلخواه، وجود نداشت و نتیجه‌ی جستجوی آن‌ها و نحوه‌ی رتبه بندی آن‌ها، با معیاری مناسب و منصفانه قابل مقایسه نبود. یکی از دلایل این امر، وجود الگوریتم جستجوی اختصاصی و منابع بسته\زیرنوشت {Closed Source} در این شرکت‌ها می‌بودند. البته دلیل چنین کاری، علاوه بر تمایل انحصار طلبی و رقابت، جلوگیری از سوء استفاده‌ی منتشر کنندگان هرزنامه‌ها، در بالا بردن رتبه‌ی یک دامنه خاص بود. پروژه‌ی Nutch با متن باز بودن خود، سعی در برطرف کردن این معضل نمود. یکی از اهداف این موتور جستجو، ایجاد شفافیت و افزودن جزئیات به نحوه‌ی رتبه بندی صفحات وب بود. علاوه بر آن، ارائه‌ی یک موتور جستجوی جایگزین، برای افرادی که به وسیله‌ی محدود موتورهای جستجوی تجاری موجود امروزی، راضی نشده‌اند. همچنین ربات نظاره گر Nutch، این امکان را به مدیران سایت‌ها می‌دهد، که قسمت‌هایی از سایتشان که به وسیله‌ی این روش جمع آوری می‌گردد را تحت مدیریت و کنترل خود داشته باشند.
\\
ساختار پروژه‌ی Nutch به گونه‌ای طراحی شده است که، هم از لحاظ حجم جستجو و هم از لحاظ سرعت، قابل گسترش و بهبود مي باشد. به همین منظور، استفاده از روش‌های توازي  در بازیابی اطلاعات، در پیاده سازی آن لحاظ شده است. بخش‌های اصلي Nutch شامل سه قسمت اصلی واحد خزنده، واحد شاخص بندی و واسط جستجو بر روی داده‌های است. خزنده‌ی Nutch به گونه‌ای طراحی شده که بر روی هر شبکه‌ی داخلی یا خارجی کار می‌کند. اطلاعات بازیابی شده توسط این قسمت، در یک پایگاه داده به نام WebDb برای استفاده‌های آتی ذخیره می‌شوند. خزنده، علاوه بر بازيابي و ذخیره سازی، با استفاده از نرم افزاری به نام Lucene برای شاخص بندی اطلاعات بازیابی شده، استفاده می‌کند. از شاخص‌های به دست آمده، برای بازیابی اطلاعات به وسیله‌ی واسط جستجو استفاده خواهد شد.
\\
ویژگی بارز Nutch در برابر موتورهای جستجوی موجود، ساختار قابل گسترش آن می‌باشد. به طور مثال، Nutch برای زمانی که نیاز به بازیابی یک یا چند دامنه‌ی خاص قابل استفاده است، تا زمانی که بعضی از اطلاعات یک دامنه را می‌خواهیم از صافی عبور دهیم، قابل استفاده است. Nutch با استفاده از ساختار افزونه‌ای که توسط زبان نشانه گذاری\زیرنوشت {Markup language (XML)} به سیستم شناخته می‌شود امکان، چنین کاری را فراهم می‌آورد. چنین ساختاری که همانند ساختار Eclipse می‌باشد، این امکان را ایجاد می‌کند تا بتوان بدون تغییری بنیادی در کد، به اصلاح رفتار برنامه اقدام نمود.

\قسمت {نحوه‌ی عملکرد}
\زیرقسمت {عملکرد کلی}
طبق شکل ~\ref{fig:Nutch_schema}، اجزای خزنده، شامل WebDb لیست واکشی، بازیاب‌ها و به‌روزرسان ها است. WebDb یک پایگاه داده‌ی اختصاصی شده است، که صفحات بازیابی شده به همراه پیوند‌های ورودي و خروجي آن را در خود ذخیره می‌کند. همچنین در مورد هر صفحه، مجموعه‌ی کوچکی از اطلاعات، مانند آخرین زمان بازیابی را ذخیره می‌کند. لیست واکشی، با استفاده از اطلاعات WebDb تهیه می‌شود.  این لیست، شامل پیوند صفحاتی است که باید در این مرحله بازیابی گردد. بازیاب‌ها، با استفاده از  این لیست، صفحات را بازیابی نموده و WebDb را متناسب با آن به‌روزرسانی می‌نمایند. در این مرحله، تغییر صفحه نسبت به بازیابی قبل، نیز برای کنترل تناوب بازیابی ذخیره می‌گردد. محتوای به دست آمده نیز برای جستجو استفاده می‌شود. این چرخه، به گونه ای طراحی شده است تا بتواند تا ابد اجرا گردد و همواره تصویری به روز از صفحات وب را ارائه دهد.
\\
زمانی که صفحات وب، بازیابی گردید، Nutch امکان جستجو را با استفاده از Searcher خود فراهم می‌کند. در واقع پس از این مرحله، ابتدا واحد شاخص بندی، محتوای استخراج شده را در لیست‌های شاخص وارون\زیرنوشت{Inverted Index} ذخیره می‌نماید. هر سند، به تعدادی ناحیه‌ی شاخص بندی تقسیم می‌گردد و هر کدام در یک رویه‌ی جداگانه شاخص بندی می‌شود. در نهایت، استخری\زیرنوشت{pool} از کارگزارها\زیرنوشت{Web Servers}، ارتباط بین کاربر و واحد جستجو را فراهم می‌کند. شکل کلی این رویه در شکل ~\ref{fig:Nutch_schema} آورده شده است.

\زیرقسمت {ساختار افزونه}
ساختار افزونه پذیری Nutch، کامل شبیه ساختار Eclipse می‌باشد. در واقع، Nutch یک سیستم مرکزی برای کنترل یک مجموعه از ابزارها که با یکدیگر کار می‌کنند می‌باشد، تا بتواند یک قابليت را به آن اضافه نمايد. بعد از مطالعه‌ی ساختار Eclipse و اعمال آن به ساختار افزونه‌ی Nutch به این نتیجه رسیدیم که مهم‌ترین المان‌های افزونه پذیری Nutch، عبارتند از افزونه‌ها، نقاط گسترش پذیر و سیستم کنترل افزونه‌ها است. سیستم کنترل این امکان را به Nutch می‌دهد که بدان، کارایی اضافه شود. این کارایی به وسیله‌ی یک افزونه، به سیستم اضافه می‌گردد. هر افزونه، در واقع یک المان گذاردنی\زیرنوشت {Pluggable} است که تعدادی نقاط گسترش را پیاده سازی می‌کند و این قابلیت‌ها، به وسیله‌ی سیستم کنترل مرکزی اجرا می‌شوند.

\شکل‌پی‌ان‌جی {10} {ساختار خزنده‌ی Nutch} {Nutch_schema}

\قسمت {ساختار Lucene}

\زیرقسمت {عملکرد کلی}
کتاب خانه‌ی Lucene به افراد امکان افزودن امکان شاخص بندی و جستجو در نرم افزارهای خود را می‌دهد. این کتاب خانه امکان شاخص بندی و جستجو در هر نوع داده‌ای را، تا زمانی که قابلیت تبدیل شدن به متن را داشته باشد را، دارد. این بدان معنی است که این کتاب خانه امکان جستجو در صفحات وب، فایل‌های PDF و Words را دارد. به این خاطر، Lucene بهترین کتاب خانه برای نوشتن موتور جستجو است.

\زیرقسمت {شاخص‌بندی}
شاخص بندی، در واقع مرحله‌ی تبدیل متن به شاخص می‌باشد. شاخص‌ها در واقع خود، داده ساختاری‌اند که سرعت عملیات بازیابی اطلاعات را، بهبود می‌بخشند. شاخص‌ها، جزء المان‌های اصلی Lucene می‌باشند.
\\
برای شاخص بندی داده در این سیستم، داده باید به جویباری\زیرنوشت {Stream} از تکه‌های متنی تبدیل گردند. بعد از آن، Lucene، داده‌ها را با تکه تکه کردن جویبار داده و اجرای عملیاتی بر روی آن، آن را برای شاخص بندی آماده می‌کند. به طور مثال، یکی از این عملیات می‌تواند، کوچک سازی حروف، برای از بین بردن حساسیت جستجو به بزرگی و کوچکی باشد. این مرحله به مرحله‌ی تحلیل معروف است. بعد از اینکه جویبارها، تحلیل گردیدند، داده‌ها آماده برای اضافه شدن به شاخص‌ها می‌باشند. مرحله‌ی شاخص بندی در شکل ~\ref {fig:lucene} متصور شده است.

\شکل‌پی‌ان‌جی {10} {ساختار Lucene} {lucene}

این کتاب خانه، روشی نوآورانه برای نگهداری شاخص‌ها به کار می‌برد. این کتاب خانه مستقل از تعداد شاخص‌ها، برای هر شاخص از چند قطعه استفاده می‌کند. استفاده کردن از چند قطعه، اضافه کردن یک سند تازه شاخص بندی شده را به وسیله‌ی اضافه کردن آن به کوچک‌ترین قطعه که تازه ساخته شده است و ترکیت آن قطعه با بقیه‌ی قطعات به صورت متناوب، تسریع می‌بخشد. این رویه، اضافه کردن سند را بسیار کارا می‌کند، زیر شاخص‌هایی که در هر لحظه تغییر می‌کند را به شدت کاهش می‌دهد.
\\
بعضی از سیستم‌های بازیابی، برای اضافه شدن یک سند، بیاز به بروز رسانی تمام شاخص دارند، اما Lucene به علت پشتیبانی از شاخص بندی افزایشی، چنین مشکلی را ندارد. چنین امری بدان معناست که Lucene امکان جستجو بر روی سند را بلافاصله بعد از شاخص بندی شدن آن بدون نیاز به بروز رسانی تمام شاخص، فراهم می‌سازد.

\زیرقسمت {تحلیل‌گر}

همان طور که در قسمت قبل، بحث شد، تحلیل یکی از مهم‌ترین مراحل، شاخص بندی است. این مرحله، داده‌های متنی را به یکی از اساسی‌ترین نمایش شاخص یعنی واژه‌های بنیادی\زیرنوشت {Terms}، تبدیل می‌نماید. این واژه‌های بنیادی برای تطابق پرسمان‌ها در مرحله‌ی جستجو با اسناد استفاده می‌شود.

\قسمت {خلاصه}
در این فصل، ساختار Nutch به همراه مکانیزم افزونه پذیری مورد مطالعه قرار گرفت. همچنین ساختار شاخص بندی Lucene و تحلیل گر آن نیز به اختصار توضیح داده شد. در فصل آتی، پیاده سازی افزونه‌ها و تغییرات اعمال شده توضیح داده خواهد شد.
